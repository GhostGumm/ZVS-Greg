<!--<ul>
  <li *ngFor="let member of members;">
    <span>{{member.login}}</span>
    
  </li>
</ul>-->
<zp-user-list [users]="members" [loading]="loading" [withShadow]="true" (userClickedEmitter)="onMemberClicked($event)">
  <div class="zp-user-list-actions">
    <h4>Contacts({{members?.length}})</h4>
    <span class="flex-fill"></span>
    <!--<button type="button" md-icon-button (click)="dialogRef.close(members)" color="primary">
      <md-icon>add</md-icon>
    </button>-->
    <md-checkbox [disabled]="loading" [checked]="inviteAll" (change)="selectAll()" *ngIf="members?.length > 0"></md-checkbox>
  </div>

  <div class="zp-user-list-empty" *ngIf="members?.length == 0">
    0 members left to invite
  </div>

  <template class="zp-user-list-user-action" let-user="user">
    <!--<button type="button" md-icon-button (click)="dialogRef.close(user)" color="primary">
      <md-icon>add</md-icon>
    </button>-->
    <md-checkbox class="user-checkbox" [checked]="user.metadata.checked" (change)="userSelected(user)"></md-checkbox>
  </template>

  <div class="zp-user-list-actions-bottom" *ngIf="members?.length > 0">
    <span class="flex-fill"></span>
    <button *ngIf="!inviteAll" type="button" md-raised-button (click)="dialogRef.close(members)" color="primary" [disabled]="selected==0">
      Invite({{selected}})
    </button>
    <button *ngIf="inviteAll" type="button" md-raised-button (click)="dialogRef.close(members)" color="primary">
      Invite all
    </button>
  </div>
</zp-user-list>