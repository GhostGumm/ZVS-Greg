
<ng-content select=".zp-user-list-actions"></ng-content>

<md-list dense *ngIf="!loading" [@loadingAnimation]="!loading">
  <md-list-item *ngFor="let user of users" [routerLink]="[]">
    <img md-list-avatar src="{{user.avatar}}" alt="{{user.firstname}}">
    <h3 md-line>
      <zp-username [user]="user"></zp-username>
    </h3>
    <p md-line *ngIf="lastMessage">
      <span> {{user.metadata.message}} </span>
    </p>      
    <template [ngTemplateOutlet]="templateUserAction" [ngOutletContext]="{user:user}" select=".zp-user-list-user-action"></template>
  </md-list-item>
</md-list>

<md-spinner *ngIf="loading" [@loadingAnimation]="loading"></md-spinner>